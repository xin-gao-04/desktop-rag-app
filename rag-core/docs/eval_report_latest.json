{
  "summary": {
    "cases": 3,
    "hit_at_k": 1.0,
    "mrr": 0.4166666666666667,
    "source_coverage": 1.0,
    "answer_keyword_recall": 1.0
  },
  "config": {
    "ollama_url": "http://127.0.0.1:11434",
    "embedding_model": "llama3.1:8b",
    "chat_model": "llama3.1:8b",
    "chunk_size": 600,
    "chunk_overlap": 120,
    "top_k": 4,
    "retrieval_strategy": "hybrid",
    "dense_candidate_multiplier": 3,
    "rrf_k": 60,
    "min_retrieval_score": 0.0,
    "max_context_chars": 5000,
    "bm25_k1": 1.5,
    "bm25_b": 0.75,
    "reranker": "token_overlap",
    "rerank_top_n": 8
  },
  "dataset": "D:\\code\\md-rag-ollama-local\\docs\\eval_set_sample.jsonl",
  "db": "D:\\code\\md-rag-ollama-local\\index.db",
  "rows": [
    {
      "question": "本地RAG构建流程是什么？",
      "expected_sources": [
        "local_deploy.md",
        "README.md"
      ],
      "must_include_any": [
        "index",
        "knowledge",
        "ollama"
      ],
      "result": {
        "question": "本地RAG构建流程是什么？",
        "answer": "本地RAG构建流程如下：\n\n• 添加自定义Markdown文件到`knowledge/`目录下。\n• 运行 `index` 命令。\n\n注意：上述步骤基于 [README.md](source: D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_1_README.md) 和 [0_ceb69e7386_README.md](source: D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_ceb69e7386_README.md) 文件。",
        "sources": [
          "D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_1_README.md",
          "D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_ceb69e7386_README.md",
          "D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_0_local_deploy.md",
          "D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_ffb85f7338_local_deploy.md"
        ],
        "scores": [
          0.07491803278688523,
          0.07483870967741935,
          0.0047619047619047615,
          0.0046875
        ],
        "retrieval": {
          "strategy": "hybrid",
          "reranker": "token_overlap",
          "context_chars": 1094,
          "context_truncated": false
        }
      },
      "metrics": {
        "retrieved": [
          "0_1_README.md",
          "README.md",
          "0_0_local_deploy.md",
          "local_deploy.md"
        ],
        "hit_at_k": true,
        "mrr": 0.5,
        "source_coverage": 1.0,
        "matched_sources": [
          "README.md",
          "local_deploy.md"
        ],
        "answer_keyword_recall": 1.0
      }
    },
    {
      "question": "如果doctor失败应该怎么处理？",
      "expected_sources": [
        "README.md"
      ],
      "must_include_any": [
        "doctor",
        "python -m mdrag.cli doctor"
      ],
      "result": {
        "question": "如果doctor失败应该怎么处理？",
        "answer": "根据提供的上下文，答案是：\n\n如果doctor失败应该怎么处理？\n\n* 执行以下命令：`python -m mdrag.cli doctor`\n\n注意：上下文中提到了两个类似的“Troubleshooting”部分，这两个解决方案一致。",
        "sources": [
          "D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_0_local_deploy.md",
          "D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_ffb85f7338_local_deploy.md",
          "D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_1_README.md",
          "D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_ceb69e7386_README.md"
        ],
        "scores": [
          0.06855439642324887,
          0.06847507331378298,
          0.004615384615384616,
          0.004545454545454545
        ],
        "retrieval": {
          "strategy": "hybrid",
          "reranker": "token_overlap",
          "context_chars": 1094,
          "context_truncated": false
        }
      },
      "metrics": {
        "retrieved": [
          "0_0_local_deploy.md",
          "local_deploy.md",
          "0_1_README.md",
          "README.md"
        ],
        "hit_at_k": true,
        "mrr": 0.25,
        "source_coverage": 1.0,
        "matched_sources": [
          "README.md"
        ],
        "answer_keyword_recall": 1.0
      }
    },
    {
      "question": "知识库如何加载和更新？",
      "expected_sources": [
        "README.md"
      ],
      "must_include_any": [
        "markdown",
        "index"
      ],
      "result": {
        "question": "知识库如何加载和更新？",
        "answer": "根据给出的上下文，知识库如何加载和更新？ \n\n以下是相关步骤：\n\n* 添加自己的Markdown文件到`knowledge/`目录\n* 运行`index`命令（具体不明）\n\n缺少的信息：\n* 确定哪个命令或程序实现了对`.md`文件内容进行处理\n* 是否需要额外的配置或设置来加载和更新知识库",
        "sources": [
          "D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_1_README.md",
          "D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_ceb69e7386_README.md",
          "D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_0_local_deploy.md",
          "D:\\code\\md-rag-ollama-local\\.merged_knowledge\\0_ffb85f7338_local_deploy.md"
        ],
        "scores": [
          0.004918032786885246,
          0.004838709677419354,
          0.0047619047619047615,
          0.0046875
        ],
        "retrieval": {
          "strategy": "hybrid",
          "reranker": "token_overlap",
          "context_chars": 1094,
          "context_truncated": false
        }
      },
      "metrics": {
        "retrieved": [
          "0_1_README.md",
          "README.md",
          "0_0_local_deploy.md",
          "local_deploy.md"
        ],
        "hit_at_k": true,
        "mrr": 0.5,
        "source_coverage": 1.0,
        "matched_sources": [
          "README.md"
        ],
        "answer_keyword_recall": 1.0
      }
    }
  ]
}